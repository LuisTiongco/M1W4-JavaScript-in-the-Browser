<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        async function start() {
            // Here's the api that you will be working with today https://reqres.in/
            // Resource: https://www.youtube.com/watch?v=cuEtnrL9-H0
            // Resource: https://www.freecodecamp.org/news/how-to-fetch-data-from-an-api-using-the-fetch-api-in-javascript/

            // Checkpoint 4.1 What are HTTP requests and reponses? What are the various HTTP verbs and what do they do?
            // Answer: HTTP requests are the requests of a web browser to a server, much like requesting information/resources, while HTTP responses are the, well, response of the server to the web browser or client's request.
            // The various http verbs include get, post, put, delete, patch, head, options, trace, and connect. 

            // Todo 4.1 Fetch the list of users. Outout the first and second page of users.
            fetch('https://reqres.in/api/users')
                .then(res => res.json())
                .then(data => console.log('Page 1: ',data))
                .catch(error => console.log(error))


            const page2 = 'https://reqres.in/api/users?page=2'
            fetch(page2)
                .then(response => response.json())
                .then(data => console.log('Page 2: ',data))
                .catch(error => console.log(error))

            // Todo 4.2 Fetch the information about a single user. Display their information
            fetch("https://reqres.in/api/users/9")
                 .then(response => response.json())
                 .then(data => console.log('User data: ', data))
                 .catch(error => console.log(error))
            
            // Todo 4.3 Create a user
            fetch('https://reqres.in/api/users', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                id: '1112',
                email: 'luigi12tiongco@gmail.com',
                first_name: 'Luis',
                last_name: 'Tiongco'
            })
            }).then(response => {
                return response.json()
            })
                .then(data => console.log('New User:', data))
                .catch(error => console.log('Error'))

            // Todo 4.4 Update the information of the user that you have created
            fetch('https://reqres.in/api/users/1112', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    id: '1112',
                    email: 'lowissmurf@gmail.com',
                    first_name: 'lowis',
                    last_name: 'tiongki'
                })
            })
            .then(response => {
                return response.json()
            })
            .then(data => console.log('Updated User Data:', data))
            .catch(error => console.log('Error'))


            // Todo 4.5 Delete the user that you have created
            fetch('https://reqres.in/api/users/1112', {
                method: 'DELETE',
            })
            .then(response => response.text()) 
            .then(data => console.log('Deleted User Data:', data))
            .then(response => console.log(response))


            // Checkpoint 4.2 What is the difference between callbacks, then-catch vs await-try-catch? When should you use one over the other
            // Answer: Callbacks are for traditional simple scenarios, then-catch(promises) are structured better and is cleaner, while avoiding a "callback hell". And finally, await-try-catch(async/await), which provides a more synchronous-like syntax and is especially used for async functions that needs to appear synchronous.
        }
        start()

    </script>
</body>

</html>